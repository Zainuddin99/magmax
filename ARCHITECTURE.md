# ğŸ—ï¸ MagMax Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     MagMax Platform                          â”‚
â”‚                  (Article/Blog Platform)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚         â”‚                  â”‚
â”‚   Next.js        â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤   Django CMS     â”‚
â”‚   Frontend       â”‚  REST   â”‚   Backend        â”‚
â”‚   (Port 3000)    â”‚   API   â”‚   (Port 8000)    â”‚
â”‚                  â”‚         â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚
                             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                             â”‚                  â”‚
                             â”‚   PostgreSQL     â”‚
                             â”‚   Database       â”‚
                             â”‚   (Port 5432)    â”‚
                             â”‚                  â”‚
                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Backend Architecture (Django CMS)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Django CMS Backend                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Django     â”‚  â”‚   Django     â”‚  â”‚     REST     â”‚     â”‚
â”‚  â”‚    Admin     â”‚  â”‚     CMS      â”‚  â”‚  Framework   â”‚     â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚     â”‚
â”‚  â”‚  /admin/     â”‚  â”‚    /en/      â”‚  â”‚  /api/v1/    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                 â”‚                 â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚           URL Router (config/urls.py)            â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              Middleware Layer                     â”‚      â”‚
â”‚  â”‚  â€¢ CORS â€¢ Auth â€¢ Sessions â€¢ CSRF â€¢ Security      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â”‚                 â”‚                 â”‚             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Articles   â”‚   â”‚     CMS     â”‚   â”‚    Auth    â”‚     â”‚
â”‚  â”‚     App      â”‚   â”‚    Apps     â”‚   â”‚   (JWT)    â”‚     â”‚
â”‚  â”‚              â”‚   â”‚             â”‚   â”‚            â”‚     â”‚
â”‚  â”‚  â€¢ Models    â”‚   â”‚  â€¢ Pages    â”‚   â”‚  â€¢ Tokens  â”‚     â”‚
â”‚  â”‚  â€¢ Views     â”‚   â”‚  â€¢ Plugins  â”‚   â”‚  â€¢ Users   â”‚     â”‚
â”‚  â”‚  â€¢ APIs      â”‚   â”‚  â€¢ Menus    â”‚   â”‚  â€¢ Perms   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚         â”‚                  â”‚                 â”‚            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                           â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚              ORM (Django Models)                 â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                           â”‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   PostgreSQL   â”‚
                    â”‚    Database    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow

### 1. Read Article (Public User)

```
Next.js Frontend
      â”‚
      â”‚ GET /api/v1/articles/my-article-slug/
      â–¼
Django REST API
      â”‚
      â”‚ Check permissions (IsAuthenticatedOrReadOnly)
      â–¼
ArticleViewSet
      â”‚
      â”‚ get_object() â†’ Filter published only
      â–¼
Article Model (ORM)
      â”‚
      â”‚ SELECT * FROM articles WHERE slug=... AND status='published'
      â–¼
PostgreSQL Database
      â”‚
      â”‚ Returns row
      â–¼
ArticleDetailSerializer
      â”‚
      â”‚ Transform to JSON with SEO data
      â–¼
JSON Response
      â”‚
      â”‚ { id, title, content, seo: {...}, ... }
      â–¼
Next.js Frontend
      â”‚
      â”‚ Render page with SEO meta tags
      â–¼
User's Browser
```

### 2. Create Article (Authenticated User)

```
Next.js Frontend
      â”‚
      â”‚ POST /api/v1/articles/
      â”‚ Authorization: Bearer <JWT_TOKEN>
      â”‚ Body: { title, content, ... }
      â–¼
Django REST API
      â”‚
      â”‚ JWT Authentication
      â–¼
Check Token
      â”‚
      â”‚ Token valid? â†’ Continue
      â”‚ Token invalid? â†’ 401 Unauthorized
      â–¼
ArticleViewSet.create()
      â”‚
      â”‚ Validate data (Serializer)
      â–¼
ArticleCreateUpdateSerializer
      â”‚
      â”‚ Validate fields, check required
      â–¼
Article Model
      â”‚
      â”‚ Auto-generate slug from title
      â”‚ Auto-fill SEO fields
      â”‚ Set author = current user
      â–¼
PostgreSQL Database
      â”‚
      â”‚ INSERT INTO articles (...)
      â–¼
Return Created Article
      â”‚
      â”‚ 201 Created + Article data
      â–¼
Next.js Frontend
      â”‚
      â”‚ Show success, redirect to article
      â–¼
User's Browser
```

---

## API Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      REST API Layer                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Authentication                                              â”‚
â”‚  â”œâ”€â”€ POST /api/token/              â†’ Get JWT tokens         â”‚
â”‚  â”œâ”€â”€ POST /api/token/refresh/      â†’ Refresh token          â”‚
â”‚  â””â”€â”€ POST /api/token/verify/       â†’ Verify token           â”‚
â”‚                                                              â”‚
â”‚  Articles API (ViewSet)                                      â”‚
â”‚  â”œâ”€â”€ GET    /api/v1/articles/                               â”‚
â”‚  â”œâ”€â”€ POST   /api/v1/articles/              (Auth)           â”‚
â”‚  â”œâ”€â”€ GET    /api/v1/articles/{slug}/                        â”‚
â”‚  â”œâ”€â”€ PUT    /api/v1/articles/{slug}/       (Auth)           â”‚
â”‚  â”œâ”€â”€ PATCH  /api/v1/articles/{slug}/       (Auth)           â”‚
â”‚  â”œâ”€â”€ DELETE /api/v1/articles/{slug}/       (Auth)           â”‚
â”‚  â”‚                                                           â”‚
â”‚  â””â”€â”€ Custom Actions:                                         â”‚
â”‚      â”œâ”€â”€ GET /api/v1/articles/published/                    â”‚
â”‚      â”œâ”€â”€ GET /api/v1/articles/featured/                     â”‚
â”‚      â””â”€â”€ GET /api/v1/articles/my_articles/ (Auth)           â”‚
â”‚                                                              â”‚
â”‚  Categories API (ViewSet)                                    â”‚
â”‚  â”œâ”€â”€ GET    /api/v1/categories/                             â”‚
â”‚  â”œâ”€â”€ POST   /api/v1/categories/            (Auth)           â”‚
â”‚  â”œâ”€â”€ GET    /api/v1/categories/{slug}/                      â”‚
â”‚  â”œâ”€â”€ PUT    /api/v1/categories/{slug}/     (Auth)           â”‚
â”‚  â”œâ”€â”€ DELETE /api/v1/categories/{slug}/     (Auth)           â”‚
â”‚  â”‚                                                           â”‚
â”‚  â””â”€â”€ Custom Action:                                          â”‚
â”‚      â””â”€â”€ GET /api/v1/categories/{slug}/articles/            â”‚
â”‚                                                              â”‚
â”‚  Features:                                                   â”‚
â”‚  â”œâ”€â”€ Pagination         (PageNumberPagination)              â”‚
â”‚  â”œâ”€â”€ Filtering          (DjangoFilterBackend)               â”‚
â”‚  â”œâ”€â”€ Search             (SearchFilter)                      â”‚
â”‚  â”œâ”€â”€ Ordering           (OrderingFilter)                    â”‚
â”‚  â””â”€â”€ Permissions        (IsAuthenticatedOrReadOnly)         â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Database Schema                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Article         â”‚       â”‚      Category        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id (PK)            â”‚       â”‚ â€¢ id (PK)            â”‚
â”‚ â€¢ title              â”‚       â”‚ â€¢ name (unique)      â”‚
â”‚ â€¢ slug (unique)      â”‚â—„â”€â”€â”   â”‚ â€¢ slug (unique)      â”‚
â”‚ â€¢ excerpt            â”‚   â”‚   â”‚ â€¢ description        â”‚
â”‚ â€¢ content            â”‚   â”‚   â”‚ â€¢ created_at         â”‚
â”‚ â€¢ featured_image_id  â”‚   â”‚   â”‚ â€¢ updated_at         â”‚
â”‚ â€¢ author_id (FK)     â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ status             â”‚   â”‚            â–²
â”‚ â€¢ published_date     â”‚   â”‚            â”‚
â”‚ â€¢ created_at         â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â€¢ updated_at         â”‚   â”‚   â”‚ Article_Categories â”‚
â”‚ â€¢ meta_title         â”‚   â””â”€â”€â”€â”¤  (Many-to-Many)    â”‚
â”‚ â€¢ meta_description   â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ meta_keywords      â”‚       â”‚ â€¢ id (PK)          â”‚
â”‚ â€¢ og_title           â”‚       â”‚ â€¢ article_id (FK)  â”‚
â”‚ â€¢ og_description     â”‚       â”‚ â€¢ category_id (FK) â”‚
â”‚ â€¢ og_image_id        â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ â€¢ view_count         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Foreign Key
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     User (Auth)      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ id (PK)            â”‚
â”‚ â€¢ username           â”‚
â”‚ â€¢ email              â”‚
â”‚ â€¢ password           â”‚
â”‚ â€¢ first_name         â”‚
â”‚ â€¢ last_name          â”‚
â”‚ â€¢ is_staff           â”‚
â”‚ â€¢ is_superuser       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Indexes:
â€¢ article.slug (unique)
â€¢ article.status
â€¢ article.published_date (desc)
â€¢ category.slug (unique)
```

---

## Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   JWT Authentication Flow                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. Login Request
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Client  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚ POST /api/token/
        â”‚ { username, password }
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚   Django    â”‚ â”€â”€â–º Verify credentials
   â”‚    Auth     â”‚ â”€â”€â–º Generate JWT tokens
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ 200 OK
        â”‚ { access: "...", refresh: "..." }
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Client  â”‚ â”€â”€â–º Store tokens (localStorage/cookie)
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


2. Authenticated Request
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Client  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚ POST /api/v1/articles/
        â”‚ Authorization: Bearer <access_token>
        â”‚ { title, content, ... }
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ JWT Auth    â”‚ â”€â”€â–º Decode token
   â”‚ Middleware  â”‚ â”€â”€â–º Verify signature
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Check expiration
        â”‚ Token valid
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  ViewSet    â”‚ â”€â”€â–º Process request
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Create article
        â”‚ 201 Created
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Client  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


3. Token Refresh
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Client  â”‚ â”€â”€â–º Access token expired
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
        â”‚ POST /api/token/refresh/
        â”‚ { refresh: "..." }
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  JWT Auth   â”‚ â”€â”€â–º Verify refresh token
   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Generate new access token
        â”‚ 200 OK
        â”‚ { access: "..." }
        â–¼
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  Client  â”‚ â”€â”€â–º Update stored token
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Request/Response Cycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Django Request/Response Cycle                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

HTTP Request
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Web Server     â”‚ (runserver/gunicorn)
â”‚  (WSGI)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Middleware     â”‚
â”‚  Pipeline       â”‚ â”€â”€â–º SecurityMiddleware
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º SessionMiddleware
         â”‚          â”€â”€â–º CorsMiddleware
         â”‚          â”€â”€â–º AuthenticationMiddleware
         â”‚          â”€â”€â–º CsrfViewMiddleware
         â–¼          â”€â”€â–º etc...
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  URL Router     â”‚ â”€â”€â–º Match URL pattern
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Route to view
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  View/ViewSet   â”‚ â”€â”€â–º Check permissions
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Process request
         â”‚          â”€â”€â–º Call serializer
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serializer     â”‚ â”€â”€â–º Validate data
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Transform data
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Model (ORM)    â”‚ â”€â”€â–º Query database
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Return data
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Serializer     â”‚ â”€â”€â–º Format response
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”€â”€â–º Add nested data
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  View/ViewSet   â”‚ â”€â”€â–º Create Response object
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Middleware     â”‚ â”€â”€â–º Process response
â”‚  (reverse)      â”‚ â”€â”€â–º Add headers
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
HTTP Response (JSON)
```

---

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Security Layers                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  1. Network Level                                            â”‚
â”‚     â”œâ”€â”€ CORS (allowed origins: localhost:3000)              â”‚
â”‚     â””â”€â”€ HTTPS (production)                                   â”‚
â”‚                                                              â”‚
â”‚  2. Authentication                                           â”‚
â”‚     â”œâ”€â”€ JWT tokens (60 min expiry)                          â”‚
â”‚     â”œâ”€â”€ Refresh tokens (1 day expiry)                       â”‚
â”‚     â””â”€â”€ Session auth (for browsable API)                    â”‚
â”‚                                                              â”‚
â”‚  3. Authorization                                            â”‚
â”‚     â”œâ”€â”€ Permission classes (IsAuthenticatedOrReadOnly)      â”‚
â”‚     â”œâ”€â”€ Object-level permissions                            â”‚
â”‚     â””â”€â”€ Staff/Superuser checks                              â”‚
â”‚                                                              â”‚
â”‚  4. Input Validation                                         â”‚
â”‚     â”œâ”€â”€ Serializer validation                               â”‚
â”‚     â”œâ”€â”€ Model field validation                              â”‚
â”‚     â””â”€â”€ SQL injection protection (ORM)                      â”‚
â”‚                                                              â”‚
â”‚  5. Django Security                                          â”‚
â”‚     â”œâ”€â”€ CSRF protection                                     â”‚
â”‚     â”œâ”€â”€ XSS protection                                      â”‚
â”‚     â”œâ”€â”€ Clickjacking protection                             â”‚
â”‚     â””â”€â”€ SQL injection protection                            â”‚
â”‚                                                              â”‚
â”‚  6. Environment                                              â”‚
â”‚     â”œâ”€â”€ Secret key in .env                                  â”‚
â”‚     â”œâ”€â”€ Database credentials in .env                        â”‚
â”‚     â””â”€â”€ Debug mode off in production                        â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Deployment Architecture (Production)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Production Architecture                     â”‚
â”‚                      (Recommended)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Internet
   â”‚
   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Vercel     â”‚ â—„â”€â”€ Next.js Frontend
â”‚  (Frontend)  â”‚     (SSG/ISR)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ API Calls (HTTPS)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Railway/   â”‚ â—„â”€â”€ Django Backend
â”‚   Render     â”‚     Gunicorn + NGINX
â”‚  (Backend)   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL  â”‚ â—„â”€â”€ Managed Database
â”‚   (Hosted)   â”‚     (Railway/Render/AWS RDS)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Static Files â†’ CDN (S3/Cloudfront)
Media Files  â†’ S3/Cloudinary
```

---

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Technology Stack                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Backend Framework                                           â”‚
â”‚  â”œâ”€â”€ Django 5.0                                             â”‚
â”‚  â”œâ”€â”€ Django CMS 4.1                                         â”‚
â”‚  â””â”€â”€ Django REST Framework 3.14                             â”‚
â”‚                                                              â”‚
â”‚  Database                                                    â”‚
â”‚  â””â”€â”€ PostgreSQL 16 (Docker)                                 â”‚
â”‚                                                              â”‚
â”‚  Authentication                                              â”‚
â”‚  â””â”€â”€ djangorestframework-simplejwt                          â”‚
â”‚                                                              â”‚
â”‚  Image Handling                                              â”‚
â”‚  â”œâ”€â”€ django-filer                                           â”‚
â”‚  â”œâ”€â”€ easy-thumbnails                                        â”‚
â”‚  â””â”€â”€ Pillow                                                 â”‚
â”‚                                                              â”‚
â”‚  API Features                                                â”‚
â”‚  â”œâ”€â”€ django-filter (filtering)                              â”‚
â”‚  â””â”€â”€ django-cors-headers (CORS)                             â”‚
â”‚                                                              â”‚
â”‚  Frontend (Next Phase)                                       â”‚
â”‚  â”œâ”€â”€ Next.js 14+                                            â”‚
â”‚  â”œâ”€â”€ React 18+                                              â”‚
â”‚  â”œâ”€â”€ Tailwind CSS                                           â”‚
â”‚  â””â”€â”€ Axios/Fetch                                            â”‚
â”‚                                                              â”‚
â”‚  Development Tools                                           â”‚
â”‚  â”œâ”€â”€ Docker & Docker Compose                                â”‚
â”‚  â”œâ”€â”€ Git                                                    â”‚
â”‚  â””â”€â”€ Python venv                                            â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Performance Optimizations

```
1. Database
   â”œâ”€â”€ Indexes on slug, status, published_date
   â”œâ”€â”€ select_related() for foreign keys
   â”œâ”€â”€ prefetch_related() for many-to-many
   â””â”€â”€ Database connection pooling

2. Caching (Future)
   â”œâ”€â”€ Redis for session/cache
   â”œâ”€â”€ Cache API responses
   â””â”€â”€ Cache thumbnails

3. Query Optimization
   â”œâ”€â”€ Only fetch needed fields
   â”œâ”€â”€ Pagination for large datasets
   â””â”€â”€ Avoid N+1 queries

4. Static/Media Files
   â”œâ”€â”€ CDN for static files
   â”œâ”€â”€ Optimized images (easy-thumbnails)
   â””â”€â”€ Lazy loading

5. API Optimization
   â”œâ”€â”€ Minimal serializer for lists
   â”œâ”€â”€ Full serializer for details
   â””â”€â”€ Efficient filtering
```

---

This architecture provides a solid foundation for a scalable,
secure, and maintainable article/blog platform! ğŸš€



