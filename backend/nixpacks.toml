[phases.setup]
nixPkgs = ["python311", "pip", "bash"]

[phases.install]
cmds = ["pip install -r requirements.txt"]

[phases.build]
# Only collect static files during build (no database needed)
# Use --skip-checks to avoid database connection during build
# Migrations will run at startup via start.sh
cmds = ["python manage.py collectstatic --noinput --skip-checks || true"]

[start]
cmd = "bash start.sh"

